<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Bayosha Footwear Jhadoli</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 10px 15px;
            border-radius: 25px;
        }

        .nav-menu a:hover, .nav-menu a.active {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .contact-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn-contact {
            padding: 8px 15px;
            border: none;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-whatsapp {
            background: #25D366;
            color: white;
        }

        .btn-call {
            background: #e74c3c;
            color: white;
        }

        .btn-contact:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .cart-icon {
            position: relative;
            color: white;
            font-size: 1.2rem;
            margin-left: 15px;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 70px;
            left: -100%;
            width: 100%;
            height: calc(100vh - 70px);
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            transition: left 0.3s ease;
            z-index: 999;
            padding: 20px;
        }

        .mobile-menu.active {
            left: 0;
        }

        .mobile-nav-menu {
            list-style: none;
            padding: 0;
        }

        .mobile-nav-menu li {
            margin: 15px 0;
        }

        .mobile-nav-menu a {
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            display: block;
            padding: 15px;
            border-radius: 10px;
            transition: background 0.3s ease;
        }

        .mobile-nav-menu a:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Main Content */
        .main-content {
            margin-top: 70px;
            min-height: calc(100vh - 70px);
            background: white;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: #f8f9fa;
            padding: 15px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .breadcrumb-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .breadcrumb-nav {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .breadcrumb-item {
            color: #6c757d;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .breadcrumb-item:hover {
            color: #495057;
        }

        .breadcrumb-item.active {
            color: #495057;
            font-weight: 500;
        }

        .breadcrumb-separator {
            color: #6c757d;
            margin: 0 5px;
        }

        /* Search and Filter Bar */
        .search-filter-bar {
            background: white;
            padding: 20px 0;
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 70px;
            z-index: 100;
        }

        .search-filter-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .search-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            background: white;
            font-size: 1rem;
            outline: none;
            cursor: pointer;
            min-width: 150px;
        }

        .filter-toggle {
            display: none;
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            min-height: 44px;
        }

        /* Filter Sidebar */
        .filter-sidebar {
            position: fixed;
            top: 70px;
            left: -300px;
            width: 300px;
            height: calc(100vh - 70px);
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            transition: left 0.3s ease;
            z-index: 200;
            overflow-y: auto;
            padding: 20px;
        }

        .filter-sidebar.active {
            left: 0;
        }

        .filter-overlay {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: calc(100vh - 70px);
            background: rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 150;
        }

        .filter-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .filter-section {
            margin-bottom: 25px;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 20px;
        }

        .filter-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .filter-option label {
            cursor: pointer;
            font-size: 0.95rem;
        }

        .price-range {
            width: 100%;
            margin: 10px 0;
        }

        .price-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-clear, .btn-apply {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-clear {
            background: #e9ecef;
            color: #495057;
        }

        .btn-apply {
            background: #3498db;
            color: white;
        }

        .btn-clear:hover, .btn-apply:hover {
            transform: translateY(-2px);
        }

        /* Products Container */
        .products-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            overflow-y: auto;   /* New: scrollable Y-axis */
            max-height: calc(100vh - 200px); /* New: Adjust height according to topbar + filter bar */
        }


        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .results-count {
            font-size: 1.1rem;
            color: #495057;
            font-weight: 500;
        }

        /* Product Grid */
        .products-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 40px;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #f1f3f4, #e8eaed);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.1);
        }

        .product-placeholder {
            font-size: 3rem;
            color: #bdc3c7;
        }

        .wishlist-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wishlist-btn:hover {
            background: #e74c3c;
            color: white;
            transform: scale(1.1);
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .current-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
        }

        .original-price {
            font-size: 1rem;
            color: #95a5a6;
            text-decoration: line-through;
        }

        .discount {
            background: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .stars {
            color: #f39c12;
        }

        .rating-text {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .product-sizes {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .size-badge {
            background: #ecf0f1;
            color: #2c3e50;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .btn-cart, .btn-buy {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            min-height: 44px;
        }

        .btn-cart {
            background: #3498db;
            color: white;
        }

        .btn-buy {
            background: #27ae60;
            color: white;
        }

        .btn-cart:hover, .btn-buy:hover {
            transform: translateY(-2px);
        }

        .out-of-stock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Loading Skeleton */
        .skeleton-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .skeleton-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        .skeleton-content {
            padding: 20px;
        }

        .skeleton-line {
            height: 20px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            margin-bottom: 15px;
        }

        .skeleton-line.short {
            width: 60%;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #bdc3c7;
        }

        .empty-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .empty-text {
            font-size: 1.1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Pagination */
        .pagination {
            text-align: center;
            padding: 40px 20px;
        }

        .btn-load-more {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
        }

        .btn-load-more:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-load-more:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            z-index: 100;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #2980b9;
            transform: translateY(-3px);
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 90px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1001;
            max-width: 300px;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: #e74c3c;
        }

        /* Size Selection Modal */
        .size-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .size-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .size-modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .size-modal h3 {
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .size-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .size-option {
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .size-option:hover, .size-option.selected {
            border-color: #3498db;
            background: #3498db;
            color: white;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
        }

        .btn-modal {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-cancel {
            background: #e9ecef;
            color: #495057;
        }

        .btn-confirm {
            background: #27ae60;
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu, .contact-buttons {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .filter-toggle {
                display: block;
            }

            .search-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-input {
                min-width: auto;
            }

            .products-header {
                flex-direction: column;
                align-items: stretch;
                text-align: center;
            }
        }

        @media (min-width: 576px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* Hindi text support */
        .hindi-text {
            font-family: 'Noto Sans Devanagari', 'Segoe UI', Arial, sans-serif;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <a href="index.html" class="logo">Bayosha Footwear Jhadoli</a>
            
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products.html" class="active">Products</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>

            <div class="contact-buttons">
                <a href="https://wa.me/919079569517" class="btn-contact btn-whatsapp" target="_blank">
                    <i class="fab fa-whatsapp"></i> WhatsApp
                </a>
                <a href="tel:+919079569517" class="btn-contact btn-call">
                    <i class="fas fa-phone"></i> Call
                </a>
                <div class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>

            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <ul class="mobile-nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li>
                    <a href="https://wa.me/919079569517" target="_blank">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </a>
                </li>
                <li>
                    <a href="tel:+919079569517">
                        <i class="fas fa-phone"></i> Call
                    </a>
                </li>
            </ul>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <div class="breadcrumb-container">
                <nav class="breadcrumb-nav">
                    <a href="index.html" class="breadcrumb-item">Home</a>
                    <span class="breadcrumb-separator">></span>
                    <a href="products.html" class="breadcrumb-item">Products</a>
                    <span class="breadcrumb-separator">></span>
                    <span class="breadcrumb-item active" id="categoryBreadcrumb">All Products</span>
                </nav>
            </div>
        </div>

        <!-- Search and Filter Bar -->
        <div class="search-filter-bar">
            <div class="search-filter-container">
                <div class="search-controls">
                    <input type="text" class="search-input" id="searchInput" placeholder="Search for shoes, sandals, slippers...">
                    
                    <select class="filter-select" id="categoryFilter">
                        <option value="">All Categories</option>
                        <option value="men">Men's Footwear</option>
                        <option value="women">Women's Footwear</option>
                        <option value="children">Children's Footwear</option>
                    </select>
                    
                    <select class="filter-select" id="sortFilter">
                        <option value="name-asc">Name A-Z</option>
                        <option value="name-desc">Name Z-A</option>
                        <option value="price-asc">Price Low to High</option>
                        <option value="price-desc">Price High to Low</option>
                        <option value="rating-desc">Highest Rated</option>
                    </select>

                    <button class="filter-toggle" id="filterToggle">
                        <i class="fas fa-filter"></i> Filters
                    </button>
                </div>
            </div>
        </div>

        <!-- Filter Sidebar -->
        <div class="filter-overlay" id="filterOverlay"></div>
        <div class="filter-sidebar" id="filterSidebar">
            <div class="filter-section">
                <h3 class="filter-title">Categories</h3>
                <div class="filter-options">
                    <div class="filter-options" style="margin-left: 20px;">
                        <div class="filter-option">
                            <input type="checkbox" id="women-heels" value="women-heels">
                            <label for="women-heels">Heels</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="women-flats" value="women-flats">
                            <label for="women-flats">Flats</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="women-sandals" value="women-sandals">
                            <label for="women-sandals">Sandals</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="women-traditional" value="women-traditional">
                            <label for="women-traditional">Traditional</label>
                        </div>
                    </div>
                </div>

                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="children-category" value="children">
                        <label for="children-category">Children's Footwear</label>
                    </div>
                    <div class="filter-options" style="margin-left: 20px;">
                        <div class="filter-option">
                            <input type="checkbox" id="children-school" value="children-school">
                            <label for="children-school">School Shoes</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="children-sports" value="children-sports">
                            <label for="children-sports">Sports</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="children-casual" value="children-casual">
                            <label for="children-casual">Casual</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="children-baby" value="children-baby">
                            <label for="children-baby">Baby</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h3 class="filter-title">Price Range</h3>
                <div class="price-display">
                    <span>₹<span id="minPriceDisplay">100</span></span>
                    <span>₹<span id="maxPriceDisplay">5000</span></span>
                </div>
                <input type="range" class="price-range" id="minPriceRange" min="100" max="5000" value="100">
                <input type="range" class="price-range" id="maxPriceRange" min="100" max="5000" value="5000">
            </div>

            <div class="filter-section">
                <h3 class="filter-title">Sizes</h3>
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="size-6" value="6">
                        <label for="size-6">Size 6</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-7" value="7">
                        <label for="size-7">Size 7</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-8" value="8">
                        <label for="size-8">Size 8</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-9" value="9">
                        <label for="size-9">Size 9</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-10" value="10">
                        <label for="size-10">Size 10</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-11" value="11">
                        <label for="size-11">Size 11</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="size-12" value="12">
                        <label for="size-12">Size 12</label>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <h3 class="filter-title">Availability</h3>
                <div class="filter-option">
                    <input type="checkbox" id="inStockOnly" value="true">
                    <label for="inStockOnly">In Stock Only</label>
                </div>
            </div>

            <div class="filter-buttons">
                <button class="btn-clear" id="clearFilters">Clear All</button>
                <button class="btn-apply" id="applyFilters">Apply Filters</button>
            </div>
        </div>

        <!-- Products Container -->
        <div class="products-container">
            <div class="products-header">
                <div class="results-count" id="resultsCount">Loading products...</div>
            </div>

            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid">
                <!-- Loading skeletons will be inserted here -->
            </div>

            <!-- Empty State -->
            <div class="empty-state hidden" id="emptyState">
                <div class="empty-icon">
                    <i class="fas fa-search"></i>
                </div>
                <h3 class="empty-title">No products found</h3>
                <p class="empty-text">Try adjusting your search criteria or browse our categories to find what you're looking for.</p>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="btn-load-more" id="loadMoreBtn">Load More Products</button>
            </div>
        </div>
    </main>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <!-- Size Selection Modal -->
    <div class="size-modal" id="sizeModal">
        <div class="size-modal-content">
            <h3>Select Size</h3>
            <div class="size-options" id="sizeOptions">
                <!-- Size options will be dynamically populated -->
            </div>
            <div class="modal-actions">
                <button class="btn-modal btn-cancel" id="cancelSizeSelection">Cancel</button>
                <button class="btn-modal btn-confirm" id="confirmSizeSelection">Add to Cart</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let allProducts = [];
        let filteredProducts = [];
        let currentPage = 1;
        const productsPerPage = 12;
        let isLoading = false;
        let cart = JSON.parse(localStorage.getItem('bayosha-cart') || '[]');
        let selectedProduct = null;
        let selectedSize = null;

        // Firebase configuration
        const FIREBASE_URL = 'https://bayosa-footwear-default-rtdb.asia-southeast1.firebasedatabase.app/';

        // DOM elements
        const productsGrid = document.getElementById('productsGrid');
        const searchInput = document.getElementById('searchInput');
        const categoryFilter = document.getElementById('categoryFilter');
        const sortFilter = document.getElementById('sortFilter');
        const filterToggle = document.getElementById('filterToggle');
        const filterSidebar = document.getElementById('filterSidebar');
        const filterOverlay = document.getElementById('filterOverlay');
        const resultsCount = document.getElementById('resultsCount');
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const backToTop = document.getElementById('backToTop');
        const emptyState = document.getElementById('emptyState');
        const cartCount = document.getElementById('cartCount');
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const sizeModal = document.getElementById('sizeModal');
        const categoryBreadcrumb = document.getElementById('categoryBreadcrumb');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            loadProducts();
            setupEventListeners();
            handleURLParameters();
            showLoadingSkeletons();
        });

        // Event listeners
        function setupEventListeners() {
            // Search functionality
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentPage = 1;
                    applyFilters();
                }, 300);
            });

            // Filter and sort
            categoryFilter.addEventListener('change', () => {
                currentPage = 1;
                applyFilters();
            });

            sortFilter.addEventListener('change', () => {
                currentPage = 1;
                applyFilters();
            });

            // Mobile menu toggle
            mobileMenuToggle.addEventListener('click', toggleMobileMenu);
            
            // Filter sidebar toggle
            filterToggle.addEventListener('click', toggleFilterSidebar);
            filterOverlay.addEventListener('click', closeFilterSidebar);

            // Filter controls
            document.getElementById('clearFilters').addEventListener('click', clearAllFilters);
            document.getElementById('applyFilters').addEventListener('click', () => {
                currentPage = 1;
                applyFilters();
                closeFilterSidebar();
            });

            // Price range sliders
            const minPriceRange = document.getElementById('minPriceRange');
            const maxPriceRange = document.getElementById('maxPriceRange');
            const minPriceDisplay = document.getElementById('minPriceDisplay');
            const maxPriceDisplay = document.getElementById('maxPriceDisplay');

            minPriceRange.addEventListener('input', function() {
                const minVal = parseInt(this.value);
                const maxVal = parseInt(maxPriceRange.value);
                if (minVal >= maxVal) {
                    this.value = maxVal - 100;
                }
                minPriceDisplay.textContent = this.value;
            });

            maxPriceRange.addEventListener('input', function() {
                const maxVal = parseInt(this.value);
                const minVal = parseInt(minPriceRange.value);
                if (maxVal <= minVal) {
                    this.value = minVal + 100;
                }
                maxPriceDisplay.textContent = this.value;
            });

            // Load more button
            loadMoreBtn.addEventListener('click', loadMoreProducts);

            // Back to top button
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Show/hide back to top button
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });

            // Size modal
            document.getElementById('cancelSizeSelection').addEventListener('click', closeSizeModal);
            document.getElementById('confirmSizeSelection').addEventListener('click', confirmAddToCart);
            sizeModal.addEventListener('click', function(e) {
                if (e.target === sizeModal) {
                    closeSizeModal();
                }
            });

            // Filter checkboxes
            const filterCheckboxes = document.querySelectorAll('#filterSidebar input[type="checkbox"]');
            filterCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    currentPage = 1;
                    applyFilters();
                });
            });
        }

        // Handle URL parameters
        function handleURLParameters() {
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');
            const search = urlParams.get('search');

            if (category) {
                categoryFilter.value = category;
                updateBreadcrumb(category);
            }

            if (search) {
                searchInput.value = search;
            }
        }

        // Update breadcrumb
        function updateBreadcrumb(category) {
            const categoryNames = {
                'men': "Men's Footwear",
                'women': "Women's Footwear",
                'children': "Children's Footwear"
            };
            categoryBreadcrumb.textContent = categoryNames[category] || 'All Products';
        }

        // Load products from Firebase
        async function loadProducts() {
            try {
                isLoading = true;
                const response = await fetch(`${FIREBASE_URL}/products.json`);
                
                if (!response.ok) {
                    throw new Error('Failed to fetch products');
                }

                const data = await response.json();
                
                if (data) {
                    // Convert Firebase object to array
                    allProducts = Object.keys(data).map(key => ({
                        id: key,
                        ...data[key]
                    }));
                } else {
                    allProducts = generateSampleProducts(); // Fallback to sample data
                }

                filteredProducts = [...allProducts];
                currentPage = 1;
                applyFilters();
                
            } catch (error) {
                console.error('Error loading products:', error);
                showToast('Error loading products. Showing sample data.', 'error');
                allProducts = generateSampleProducts();
                filteredProducts = [...allProducts];
                applyFilters();
            } finally {
                isLoading = false;
            }
        }

        // Generate sample products for demonstration
        function generateSampleProducts() {
            const sampleProducts = [];
            const categories = ['men', 'women', 'children'];
            const subcategories = {
                'men': ['sandals', 'slippers', 'loafers', 'shoes'],
                'women': ['heels', 'flats', 'sandals', 'traditional'],
                'children': ['school', 'sports', 'casual', 'baby']
            };
            const sizes = [6, 7, 8, 9, 10, 11, 12];
            const brands = ['Bayosha', 'ComfortWalk', 'StyleStep', 'FootEase'];

            for (let i = 1; i <= 50; i++) {
                const category = categories[Math.floor(Math.random() * categories.length)];
                const subcategory = subcategories[category][Math.floor(Math.random() * subcategories[category].length)];
                const brand = brands[Math.floor(Math.random() * brands.length)];
                const originalPrice = Math.floor(Math.random() * 4000) + 500;
                const discount = Math.floor(Math.random() * 50) + 10;
                const currentPrice = Math.floor(originalPrice * (100 - discount) / 100);

                sampleProducts.push({
                    id: `product-${i}`,
                    name: `${brand} ${category.charAt(0).toUpperCase() + category.slice(1)}'s ${subcategory.charAt(0).toUpperCase() + subcategory.slice(1)}`,
                    category: category,
                    subcategory: subcategory,
                    originalPrice: originalPrice,
                    currentPrice: currentPrice,
                    discount: discount,
                    rating: (Math.random() * 2 + 3).toFixed(1),
                    reviewCount: Math.floor(Math.random() * 200) + 10,
                    sizes: sizes.slice(0, Math.floor(Math.random() * 4) + 3),
                    inStock: Math.random() > 0.1,
                    image: null,
                    description: `High-quality ${subcategory} for ${category} with premium materials and comfortable design.`
                });
            }

            return sampleProducts;
        }

        // Show loading skeletons
        function showLoadingSkeletons() {
            const skeletons = Array(8).fill().map(() => `
                <div class="skeleton-card">
                    <div class="skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                    </div>
                </div>
            `).join('');
            
            productsGrid.innerHTML = skeletons;
        }

        // Apply filters and search
        function applyFilters() {
            let filtered = [...allProducts];
            const searchTerm = searchInput.value.toLowerCase().trim();
            const selectedCategory = categoryFilter.value;
            const sortBy = sortFilter.value;

            // Search filter
            if (searchTerm) {
                filtered = filtered.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm) ||
                    product.subcategory.toLowerCase().includes(searchTerm)
                );
            }

            // Category filter
          if (selectedCategory) {
            filtered = filtered.filter(product => product.category === selectedCategory);
            updateBreadcrumb(selectedCategory);
          } else {
          // Agar dropdown blank hai, check karo sidebar checkboxes
            const catCheckbox = document.querySelector('#filterSidebar input[type="checkbox"]:checked');
          if (catCheckbox) {
          // Agar koi checkbox category type hai
            let val = catCheckbox.value;
          // Agar subcategory hai
          if (val.includes('-')) {
            val = val.split('-')[0];
        }
           updateBreadcrumb(val);
          } else {
           updateBreadcrumb('');
          }
        }


            // Sidebar filters
            const categoryCheckboxes = document.querySelectorAll('#filterSidebar input[type="checkbox"]:checked');
            if (categoryCheckboxes.length > 0) {
                const selectedFilters = Array.from(categoryCheckboxes).map(cb => cb.value);
                filtered = filtered.filter(product => {
                    return selectedFilters.some(filter => {
                        if (filter.includes('-')) {
                            const [cat, subcat] = filter.split('-');
                            return product.category === cat && product.subcategory === subcat;
                        }
                        return product.category === filter;
                    });
                });
            }

            // Price range filter
            const minPrice = parseInt(document.getElementById('minPriceRange').value);
            const maxPrice = parseInt(document.getElementById('maxPriceRange').value);
            filtered = filtered.filter(product => 
                product.currentPrice >= minPrice && product.currentPrice <= maxPrice
            );

            // Size filter
            const sizeCheckboxes = document.querySelectorAll('#filterSidebar input[id^="size-"]:checked');
            if (sizeCheckboxes.length > 0) {
                const selectedSizes = Array.from(sizeCheckboxes).map(cb => parseInt(cb.value));
                filtered = filtered.filter(product => 
                    selectedSizes.some(size => product.sizes.includes(size))
                );
            }

            // In stock filter
            const inStockOnly = document.getElementById('inStockOnly').checked;
            if (inStockOnly) {
                filtered = filtered.filter(product => product.inStock);
            }

            // Sort
            filtered.sort((a, b) => {
                switch (sortBy) {
                    case 'name-asc':
                        return a.name.localeCompare(b.name);
                    case 'name-desc':
                        return b.name.localeCompare(a.name);
                    case 'price-asc':
                        return a.currentPrice - b.currentPrice;
                    case 'price-desc':
                        return b.currentPrice - a.currentPrice;
                    case 'rating-desc':
                        return parseFloat(b.rating) - parseFloat(a.rating);
                    default:
                        return 0;
                }
            });

            filteredProducts = filtered;
            displayProducts();
            updateResultsCount();
        }

        // Display products
        function displayProducts() {
            const startIndex = 0;
            const endIndex = currentPage * productsPerPage;
            const productsToShow = filteredProducts.slice(startIndex, endIndex);

            if (productsToShow.length === 0) {
                productsGrid.innerHTML = '';
                emptyState.classList.remove('hidden');
                loadMoreBtn.style.display = 'none';
                return;
            }

            emptyState.classList.add('hidden');
            
            const productsHTML = productsToShow.map(product => createProductCard(product)).join('');
            productsGrid.innerHTML = productsHTML;

            // Show/hide load more button
            if (endIndex < filteredProducts.length) {
                loadMoreBtn.style.display = 'block';
                loadMoreBtn.disabled = false;
            } else {
                loadMoreBtn.style.display = 'none';
            }
        }

        // Create product card HTML
        function createProductCard(product) {
            const discountPercentage = Math.round(((product.originalPrice - product.currentPrice) / product.originalPrice) * 100);
            
            return `
                <div class="product-card ${!product.inStock ? 'out-of-stock' : ''}" data-product-id="${product.id}">
                    <div class="product-image">
                        ${product.image ? 
                            `<img src="${product.image}" alt="${product.name}" loading="lazy">` : 
                            `<i class="fas fa-shoe-prints product-placeholder"></i>`
                        }
                        <button class="wishlist-btn" onclick="toggleWishlist('${product.id}')">
                            <i class="far fa-heart"></i>
                        </button>
                        ${!product.inStock ? '<div class="out-of-stock-overlay">Out of Stock</div>' : ''}
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <div class="product-price">
                            <span class="current-price">₹${product.currentPrice}</span>
                            ${product.originalPrice > product.currentPrice ? 
                                `<span class="original-price">₹${product.originalPrice}</span>
                                 <span class="discount">${discountPercentage}% off</span>` : ''
                            }
                        </div>
                        <div class="product-rating">
                            <div class="stars">
                                ${generateStars(product.rating)}
                            </div>
                            <span class="rating-text">${product.rating} (${product.reviewCount} reviews)</span>
                        </div>
                        <div class="product-sizes">
                            ${product.sizes.map(size => `<span class="size-badge">${size}</span>`).join('')}
                        </div>
                        <div class="product-actions">
                            <button class="btn-cart" onclick="addToCart('${product.id}')" ${!product.inStock ? 'disabled' : ''}>
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <button class="btn-buy" onclick="buyNow('${product.id}')" ${!product.inStock ? 'disabled' : ''}>
                                <i class="fas fa-bolt"></i> Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Generate star rating HTML
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        // Load more products
        function loadMoreProducts() {
            if (isLoading) return;
            
            currentPage++;
            loadMoreBtn.disabled = true;
            loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
            
            setTimeout(() => {
                displayProducts();
                loadMoreBtn.innerHTML = 'Load More Products';
            }, 500);
        }

        // Update results count
        function updateResultsCount() {
            const currentlyShown = Math.min(currentPage * productsPerPage, filteredProducts.length);
            resultsCount.textContent = `Showing ${currentlyShown} of ${filteredProducts.length} products`;
        }

        // Add to cart functionality
        function addToCart(productId) {
            const product = allProducts.find(p => p.id === productId);
            if (!product || !product.inStock) return;

            if (product.sizes.length > 1) {
                selectedProduct = product;
                showSizeModal(product.sizes);
            } else {
                addProductToCart(product, product.sizes[0] || null);
            }
        }

        // Show size selection modal
        function showSizeModal(sizes) {
            const sizeOptions = document.getElementById('sizeOptions');
            sizeOptions.innerHTML = sizes.map(size => 
                `<button class="size-option" onclick="selectSize(${size})">${size}</button>`
            ).join('');
            
            selectedSize = null;
            sizeModal.classList.add('active');
        }

        // Select size
        function selectSize(size) {
            selectedSize = size;
            document.querySelectorAll('.size-option').forEach(btn => {
                btn.classList.remove('selected');
                if (btn.textContent == size) {
                    btn.classList.add('selected');
                }
            });
        }

        // Close size modal
        function closeSizeModal() {
            sizeModal.classList.remove('active');
            selectedProduct = null;
            selectedSize = null;
        }

        // Confirm add to cart
        function confirmAddToCart() {
            if (!selectedProduct || !selectedSize) {
                showToast('Please select a size', 'error');
                return;
            }

            addProductToCart(selectedProduct, selectedSize);
            closeSizeModal();
        }

        // Add product to cart
        function addProductToCart(product, size) {
            const cartItem = {
                id: product.id,
                name: product.name,
                price: product.currentPrice,
                size: size,
                quantity: 1,
                image: product.image
            };

            const existingItemIndex = cart.findIndex(item => 
                item.id === product.id && item.size === size
            );

            if (existingItemIndex > -1) {
                cart[existingItemIndex].quantity++;
                showToast('Quantity updated in cart!');
            } else {
                cart.push(cartItem);
                showToast('Added to cart successfully!');
            }

            localStorage.setItem('bayosha-cart', JSON.stringify(cart));
            updateCartCount();
        }

        // Buy now functionality
        function buyNow(productId) {
            addToCart(productId);
            // Redirect to checkout or cart page
            showToast('Redirecting to checkout...', 'success');
            setTimeout(() => {
                window.location.href = 'checkout.html';
            }, 1000);
        }

        // Toggle wishlist
        function toggleWishlist(productId) {
            // Wishlist functionality would be implemented here
            showToast('Added to wishlist!');
        }

        // Update cart count
        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('active');
        }

        // Filter sidebar toggle
        function toggleFilterSidebar() {
            filterSidebar.classList.add('active');
            filterOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeFilterSidebar() {
            filterSidebar.classList.remove('active');
            filterOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Clear all filters
        function clearAllFilters() {
            // Clear all checkboxes
            document.querySelectorAll('#filterSidebar input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });

            // Reset price ranges
            document.getElementById('minPriceRange').value = 100;
            document.getElementById('maxPriceRange').value = 5000;
            document.getElementById('minPriceDisplay').textContent = '100';
            document.getElementById('maxPriceDisplay').textContent = '5000';

            // Reset main filters
            searchInput.value = '';
            categoryFilter.value = '';
            sortFilter.value = 'name-asc';

            currentPage = 1;
            applyFilters();
            showToast('All filters cleared!');
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;

            const toastContainer = document.getElementById('toastContainer');
            toastContainer.appendChild(toast);

            setTimeout(() => {
                toast.classList.add('show');
            }, 100);

            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.nav-container') && mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
            }
        });

        // Handle refresh functionality
        let startY = 0;
        let pullDistance = 0;
        const pullToRefreshThreshold = 100;

        window.addEventListener('touchstart', function(e) {
            startY = e.touches[0].pageY;
        });

        window.addEventListener('touchmove', function(e) {
            if (window.scrollY === 0) {
                pullDistance = e.touches[0].pageY - startY;
                if (pullDistance > pullToRefreshThreshold) {
                    // Visual feedback for pull to refresh
                    document.body.style.transform = `translateY(${Math.min(pullDistance / 3, 50)}px)`;
                }
            }
        });

        window.addEventListener('touchend', function() {
            if (pullDistance > pullToRefreshThreshold && window.scrollY === 0) {
                // Trigger refresh
                loadProducts();
                showToast('Refreshing products...');
            }
            document.body.style.transform = '';
            pullDistance = 0;
        });
    </script>
</body>
</html>option">
                        <input type="checkbox" id="men-category" value="men">
                        <label for="men-category">Men's Footwear</label>
                    </div>
                    <div class="filter-options" style="margin-left: 20px;">
                        <div class="filter-option">
                            <input type="checkbox" id="men-sandals" value="men-sandals">
                            <label for="men-sandals">Sandals</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="men-slippers" value="men-slippers">
                            <label for="men-slippers">Slippers</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="men-loafers" value="men-loafers">
                            <label for="men-loafers">Loafers</label>
                        </div>
                        <div class="filter-option">
                            <input type="checkbox" id="men-shoes" value="men-shoes">
                            <label for="men-shoes">Shoes</label>
                        </div>
                    </div>
                </div>
                
                <div class="filter-options">
                    <div class="filter-option">
                        <input type="checkbox" id="women-category" value="women">
                        <label for="women-category">Women's Footwear</label>
                    </div>
                    <div class="filter-